# Enrichment Settings Dialog - Visual Guide

## ðŸŽ¨ Dialog Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ Enrichment Settings                    [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Configure how you want to enrich your Apollo  â”‚
â”‚  search results. This will consume Apollo API  â”‚
â”‚  credits.                                       â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Number of Results to Process             â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ 100                                  â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ Maximum number of unprocessed results   â”‚  â”‚
â”‚  â”‚ to enrich (1-500)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Reveal Personal Emails                   â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ Yes - Reveal emails (uses credits) â–¼ â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ Retrieve personal email addresses for   â”‚  â”‚
â”‚  â”‚ contacts. This consumes API credits.    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Reveal Phone Numbers                     â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ No - Skip phones                   â–¼ â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ Retrieve phone numbers for contacts.    â”‚  â”‚
â”‚  â”‚ Requires a webhook URL for delivery.    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš ï¸  Credit Usage:                        â”‚  â”‚
â”‚  â”‚ This operation will consume Apollo API   â”‚  â”‚
â”‚  â”‚ credits based on the number of contacts  â”‚  â”‚
â”‚  â”‚ enriched and data types requested.       â”‚  â”‚
â”‚  â”‚ View pricing â†’                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  Note: Apollo respects GDPR compliance and    â”‚
â”‚  will not reveal personal emails for          â”‚
â”‚  contacts in GDPR-compliant regions.          â”‚
â”‚                                                 â”‚
â”‚                       [Cancel] [âš™ï¸ Start Enr..] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ State Changes

### Default State (Emails Only)
```
Number of Results: 100
Reveal Emails: âœ… Yes
Reveal Phones: âŒ No
Webhook URL: (hidden)
```

### Phone Numbers Enabled
```
Number of Results: 100
Reveal Emails: âœ… Yes
Reveal Phones: âœ… Yes
Webhook URL: (shown, required)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Webhook URL *                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ https://webhook.site/...             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ Apollo will send phone numbers to this  â”‚
â”‚ URL asynchronously.                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Validation Error (Missing Webhook)
```
Number of Results: 100
Reveal Emails: âœ… Yes
Reveal Phones: âœ… Yes
Webhook URL: (empty)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  Webhook URL is required when        â”‚
â”‚     revealing phone numbers              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[Start Enrichment] button is DISABLED
```

## ðŸŽ¯ User Interactions

### 1. Opening Dialog
```
User Action: Click "Enrich Data" button
Result: Dialog opens with default settings
State: All fields editable, Start button enabled
```

### 2. Changing Settings
```
User Action: Adjust any field
Result: Form updates immediately
Validation: Real-time feedback
```

### 3. Enabling Phone Numbers
```
User Action: Set "Reveal Phone Numbers" to Yes
Result: Webhook URL field appears
Validation: Start button disabled until webhook entered
```

### 4. Starting Enrichment
```
User Action: Click "Start Enrichment"
Result:
  - Button shows "Enriching..."
  - All fields disabled
  - Cancel button disabled
Progress: Mutation runs in background
```

### 5. Completion
```
Success Path:
  - Toast notification appears
  - Dialog auto-closes
  - Table refreshes with new data

Error Path:
  - Error toast appears
  - Dialog remains open
  - User can adjust and retry
```

## ðŸ“‹ Form Fields Reference

### Number of Results
```yaml
Type: Number Input
Min: 1
Max: 500
Default: 100
Validation: Must be integer in range
Error Message: "Limit must be a number between 1 and 500"
```

### Reveal Personal Emails
```yaml
Type: Select Dropdown
Options:
  - "Yes - Reveal emails (uses credits)"
  - "No - Skip emails"
Default: Yes
Impact: Controls revealPersonalEmails API parameter
```

### Reveal Phone Numbers
```yaml
Type: Select Dropdown
Options:
  - "Yes - Reveal phones (requires webhook)"
  - "No - Skip phones"
Default: No
Impact:
  - Controls revealPhoneNumbers API parameter
  - Shows/hides webhook URL field
```

### Webhook URL
```yaml
Type: Text Input (URL)
Visible: Only when "Reveal Phone Numbers" = Yes
Required: Yes (when visible)
Placeholder: "https://your-webhook.com/apollo-phones"
Validation:
  - Must not be empty when visible
  - Should be valid URL format
Impact: Where Apollo sends phone data
```

## ðŸŽ¨ Visual States

### Loading State
```
Button: [âš™ï¸ Enriching...]
Status: Disabled, with spinner icon
Fields: All disabled
Close: X button disabled
```

### Error State
```
Toast: ðŸ”´ "Enrichment failed"
Description: Error message from API
Dialog: Remains open
Fields: Re-enabled for retry
```

### Success State
```
Toast: âœ… "Enrichment completed!"
Description: "Processed X results. Created Y companies..."
Dialog: Auto-closes
Table: Refreshes automatically
```

## ðŸ’¡ UX Considerations

### Helpful Hints
- ðŸ“ Field descriptions explain what each setting does
- ðŸ’° Credit warning is always visible
- ðŸŒ GDPR notice at bottom
- â„¹ï¸ Contextual help text under each field

### Smart Defaults
- 100 results (balanced batch size)
- Emails enabled (most common use case)
- Phones disabled (requires setup)

### Progressive Disclosure
- Webhook field only shown when needed
- Reduces cognitive load
- Cleaner initial interface

### Error Prevention
- Min/max on number inputs
- Required field indicators (*)
- Disabled submit until valid
- Clear error messages

## ðŸ“± Responsive Behavior

### Desktop (>640px)
```
- Full width dialog (500px max)
- All fields comfortable size
- Side-by-side buttons in footer
```

### Mobile (<640px)
```
- Full screen or near-full width
- Stacked form fields
- Stacked footer buttons
- Scrollable content area
```

## ðŸ”§ Developer Notes

### Component Props
```typescript
interface EnrichmentSettingsDialogProps {
  open: boolean;                          // Control visibility
  onOpenChange: (open: boolean) => void;  // Handle close
  onConfirm: (settings: EnrichmentSettings) => void;  // Submit handler
  isPending?: boolean;                    // Loading state
}
```

### State Management
```typescript
// Internal state (not exposed to parent)
const [limit, setLimit] = useState<number>(100);
const [revealPersonalEmails, setRevealPersonalEmails] = useState<boolean>(true);
const [revealPhoneNumbers, setRevealPhoneNumbers] = useState<boolean>(false);
const [webhookUrl, setWebhookUrl] = useState<string>('');
```

### Validation Logic
```typescript
const canSubmit = !revealPhoneNumbers ||
                  (revealPhoneNumbers && webhookUrl.trim());
```

---

**Last Updated:** January 2026
**Component:** EnrichmentSettingsDialog
**Status:** Production Ready
